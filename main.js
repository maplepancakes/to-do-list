(()=>{"use strict";const t=function(){let t={};return{taskID:0,projectID:0,projectObject:t,optionValue:["High","Medium","Low"],priorityColour:["priority-color-high","priority-color-medium","priority-color-low"],getTaskForProject:function(e){return t[`${e}`]},consoleLogStorage:function(){console.log(t)}}}(),e=function(){t.taskID++,console.log(`Increased taskID to: ${t.taskID}`)},n=function(){t.projectID++,console.log(`Increased projectID to: ${t.projectID}`)},o=function(e){t.projectObject[`${e}`]=[],console.log(`Added ${e} to projectObject`),t.consoleLogStorage()},r=function(e){delete t.projectObject[`${e}`],console.log(`Deleted ${e} from projectObject`),t.consoleLogStorage()},a=function(e,n){t.projectObject[`${n}`].push(e),console.log(t.consoleLogStorage())},i=function(e,n,o,r,a,i){let l=t.projectObject[`${n}`];l=l.findIndex((function(t){return t.taskID===e}));let c=t.projectObject[`${n}`];c[l].taskName=o,c[l].dueDate=r,c[l].priorityColour=a,c[l].priority=i,console.log(t.consoleLogStorage())},l=function(e,n){let o=t.projectObject[`${n}`];o=o.filter((function(t){return t.taskID!==e})),console.log(o),t.projectObject[`${n}`]=o,console.log(t.consoleLogStorage())},c=function(t,e){return(t=(t=t.split("")).splice(e)).join("")},d=function(e){return"High"===e?t.priorityColour[0]:"Medium"===e?t.priorityColour[1]:"Low"===e?t.priorityColour[2]:void 0},u=function(t){o(t),n()},s=function(n,o,r,a){this.taskID=t.taskID,this.taskName=n,this.dueDate=o,this.priorityColour=r,this.priority=a,e()},p=function(){const e=document.querySelector("body"),n=document.createElement("div");return n.setAttribute("id","content"),{loadInitialContents:function(){!function(){const t=document.createElement("header"),n=document.createElement("h1"),o=document.createElement("button");console.log("Loading page header..."),n.textContent="To Do List ✔",o.classList.add("button-style"),o.setAttribute("id","new-project-button"),o.setAttribute("type","menu"),o.textContent="+ Add Project",e.appendChild(t),t.appendChild(n),t.appendChild(o)}(),function(){const t=document.createElement("div"),o=document.createElement("h2"),r=document.createElement("div");console.log("Loading project container..."),t.setAttribute("id","project-container"),o.classList.add("project-contents-format"),o.setAttribute("id","project-header"),o.textContent="Projects",r.setAttribute("id","project-listing"),e.appendChild(n),n.appendChild(t),t.appendChild(o),t.appendChild(r)}(),function(){const t=document.createElement("div"),e=document.createElement("div"),o=document.createElement("h1"),r=document.createElement("button"),a=document.createElement("div");console.log("Loading task container..."),t.setAttribute("id","task-container"),e.setAttribute("id","task-header-container"),o.setAttribute("id","task-header"),o.textContent="",r.classList.add("button-style"),r.setAttribute("id","delete-project-button-hidden"),a.setAttribute("id","task-listing"),n.appendChild(t),t.appendChild(e),e.appendChild(o),e.appendChild(r),t.appendChild(a)}()},loadNewProjectForm:function(){const t=document.querySelector("#project-container"),e=document.createElement("div"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("id","new-project-form-container"),n.setAttribute("id","new-project-input"),n.setAttribute("placeholder","e.g. Daily Tasks"),n.setAttribute("type","text"),o.classList.add("button-style"),o.setAttribute("id","submit-new-project-button"),o.textContent="Add Project",t.appendChild(e),e.appendChild(n),e.appendChild(o)},updateProjectListing:function(e){const n=document.querySelector("#project-listing"),o=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");console.log(`Updating project listing with value: ${e}`),o.classList.add("project-contents-format"),o.classList.add("project-contents"),o.setAttribute("id",`project-content-${t.projectID}`),r.classList.add("project-content"),r.classList.add("project-description"),r.setAttribute("id",`project-description-${t.projectID}`),r.textContent=e,a.classList.add("project-content"),a.classList.add("project-add-task-icon"),a.setAttribute("id",`add-task-${t.projectID}`),a.textContent="+",n.appendChild(o),o.appendChild(r),o.appendChild(a)},loadNewTaskForm:function(e){let n=[];const o=document.createElement("div"),r=document.createElement("label"),a=document.createElement("input"),i=document.createElement("label"),l=document.createElement("input"),c=document.createElement("label"),d=document.createElement("select"),u=document.createElement("button");for(let t=0;t<3;t++)n[t]=document.createElement("option");console.log("Loading new task form..."),o.setAttribute("id","new-task-input"),r.setAttribute("for","task-name"),r.textContent="Task Name:",a.setAttribute("name","task-name"),a.setAttribute("placeholder","e.g. Feed dog"),a.setAttribute("type","test"),i.setAttribute("for","due-date"),i.textContent="Due Date:",l.setAttribute("name","due-date"),l.setAttribute("type","text"),l.setAttribute("onblur","this.type='text'"),l.setAttribute("placeholder","YYYY/MM/DD"),l.setAttribute("onfocus","this.type='date'"),c.setAttribute("for","priority"),c.textContent="Priority",d.setAttribute("name","priority");for(let e=0;e<t.optionValue.length;e++)n[e].setAttribute("value",`${t.optionValue[e]}`),n[e].textContent=`${t.optionValue[e]}`;u.classList.add("button-style"),u.setAttribute("id","new-task-button"),u.setAttribute("type","submit"),u.textContent="Add Task",document.querySelector(`${e}`).appendChild(o),o.appendChild(r),o.appendChild(a),o.appendChild(i),o.appendChild(l),o.appendChild(c),o.appendChild(d);for(let t=0;t<3;t++)d.appendChild(n[t]);o.appendChild(u)},updateTaskListing:function(t,e="",n="",o="",r=""){const a=document.querySelector("#task-listing"),i=document.createElement("div"),l=document.createElement("label"),c=document.createElement("label"),d=document.createElement("label"),u=document.createElement("label"),s=document.createElement("button");i.classList.add("task-contents-format"),i.setAttribute("id",`task-content-${t}`),l.classList.add("icon"),l.setAttribute("id",`delete-icon-${t}`),l.textContent="X",c.classList.add("task-name-label"),c.setAttribute("id",`task-name-${t}`),c.textContent=`${e}`,d.classList.add("due-date-label"),d.setAttribute("id",`due-date-${t}`),d.textContent=`${n}`,u.classList.add("priority-label"),u.classList.add(`${o}`),u.setAttribute("id",`priority-${t}`),u.textContent=`${r}`,s.classList.add("task-container-buttons"),s.classList.add("button-style"),s.setAttribute("id",`edit-button-${t}`),s.setAttribute("type","menu"),s.textContent="✏️ Edit",a.appendChild(i),i.appendChild(l),i.appendChild(c),i.appendChild(d),i.appendChild(u),i.appendChild(s)},reUpdateTaskListingWithoutEditButton:function(e,n="",o="",r="",a="",i="label",l="label",c="label"){const d=document.querySelector(`#task-content-${e}`),u=document.querySelector(`#edit-button-${e}`),s=document.createElement("label"),p=document.createElement(`${i}`),m=document.createElement(`${l}`),b=document.createElement(`${c}`);if("label"===i&&"label"===l&&"label"===c&&(s.classList.add("icon"),s.setAttribute("id",`delete-icon-${e}`),s.textContent="X"),p.classList.add("task-name-label"),p.setAttribute("id",`task-name-${e}`),"label"===i?p.textContent=`${n}`:"input"===i&&(p.setAttribute("type","text"),p.setAttribute("placeholder","Task Name")),m.classList.add("due-date-label"),m.setAttribute("id",`due-date-${e}`),"label"===l?m.textContent=`${o}`:"input"===l&&(m.setAttribute("type","text"),m.setAttribute("onblur","this.type='text'"),m.setAttribute("placeholder","YYYY/MM/DD"),m.setAttribute("onfocus","this.type='date'")),b.classList.add("priority-label"),b.classList.add(`${r}`),b.setAttribute("id",`priority-${e}`),"label"===c)b.textContent=`${a}`;else if("select"===c){const e=[];for(let n=0;n<t.optionValue.length;n++)e[n]=document.createElement("option"),e[n].setAttribute("value",`${t.optionValue[n]}`),e[n].textContent=`${t.optionValue[n]}`,b.appendChild(e[n])}d.insertBefore(p,u),d.insertBefore(m,u),d.insertBefore(b,u)},appendSeparator:function(t){const e=document.querySelector("#task-listing"),n=document.createElement("div");n.classList.add("separator"),n.setAttribute("id",`separator-${t}`),e.appendChild(n)},updateAttribute:function(t,e,n){const o=document.querySelector(`${t}`);console.log(`Updating ${e} of ${o} to ${n}`),o[`${e}`]=`${n}`},updateAllAttributes:function(t,e,n){const o=document.querySelectorAll(`${t}`);for(let t=0;t<o.length;t++)o[t][`${e}`]=`${n}`},removeElementFromParent:function(t,e){const n=document.querySelector(`${t}`),o=document.querySelector(`${e}`);console.log(`Removing ${o.id} from ${n.id}`),n.removeChild(o)},removeAllElementsFromParent:function(t,e){const n=document.querySelector(`${t}`),o=document.querySelectorAll(`${e}`);console.log(`Removing all ${o} from ${n.id}`);for(let t=0;t<o.length;t++)n.removeChild(o[t])}}}();let m=document.querySelectorAll(".project-description"),b=document.querySelectorAll(".project-add-task-icon");const A=function(){const t=document.querySelector("#task-header"),e=document.querySelectorAll(".icon");for(let n=0;n<e.length;n++)e[n].onclick=function(o){let r=e[n].id;r=c(r,12),r=parseInt(r),l(r,t.textContent),p.removeElementFromParent("#task-listing",`#task-content-${r}`),p.removeElementFromParent("#task-listing",`#separator-${r}`)}},h=function(){const t=document.querySelector("#task-header"),e=document.querySelectorAll(".task-container-buttons");for(let n=0;n<e.length;n++)e[n].onclick=function(o){let r=e[n].id;r=c(r,12),r=parseInt(r),"✏️ Edit"===e[n].textContent?(p.removeElementFromParent(`#task-content-${r}`,`#task-name-${r}`),p.removeElementFromParent(`#task-content-${r}`,`#due-date-${r}`),p.removeElementFromParent(`#task-content-${r}`,`#priority-${r}`),p.reUpdateTaskListingWithoutEditButton(r,"taskName","dueDate","priorityColour","priority","input","input","select"),p.updateAttribute(`#edit-button-${r}`,"textContent","✔")):e[n].textContent;{const e=document.querySelector(`#task-name-${r}`),n=document.querySelector(`#due-date-${r}`),o=document.querySelector(`#priority-${r}`);""===e.value&&p.updateAttribute(`#task-name-${r}`,"placeholder","Type something here..."),""===n.value&&p.updateAttribute(`#due-date-${r}`,"placeholder","Input date here..."),""!==e.value&&""!==n.value&&(i(r,t.textContent,e.value,n.value,d(o.value),o.value),p.removeElementFromParent(`#task-content-${r}`,`#task-name-${r}`),p.removeElementFromParent(`#task-content-${r}`,`#due-date-${r}`),p.removeElementFromParent(`#task-content-${r}`,`#priority-${r}`),p.reUpdateTaskListingWithoutEditButton(r,e.value,n.value,d(o.value),o.value),p.updateAttribute(`#edit-button-${r}`,"textContent","✏️ Edit"))}}};p.loadInitialContents();const k=document.querySelector("#new-project-button");k.onclick=function(e){"- Add Project"===k.textContent?(p.updateAttribute("#new-project-button","textContent","+ Add Project"),p.removeElementFromParent("#project-container","#new-project-form-container")):"+ Add Project"===k.textContent&&(p.updateAttribute("#new-project-button","textContent","- Add Project"),p.loadNewProjectForm(),document.querySelector("#submit-new-project-button").onclick=function(e){const n=document.querySelector("#new-project-input");if(""!==n.value){if(!t.projectObject[`${n.value}`]){p.updateProjectListing(n.value),u(n.value),p.updateAttribute("#new-project-input","value",""),p.updateAttribute("#new-project-input","placeholder","e.g. Daily Tasks"),m=document.querySelectorAll(".project-description");for(let e=0;e<m.length;e++)m[e].onclick=function(n){p.updateAttribute("#task-header","textContent",`${m[e].textContent}`),document.querySelector("#delete-project-button-hidden")&&(p.updateAttribute("#delete-project-button-hidden","id","delete-project-button"),p.updateAttribute("#delete-project-button","textContent","Delete Project"));const o=document.querySelectorAll(".task-contents-format");document.querySelector("#delete-project-button").onclick=function(t){r(m[e].textContent);let n=m[e].id;n=c(n,20),o&&(p.removeAllElementsFromParent("#task-listing",".task-contents-format"),p.removeAllElementsFromParent("#task-listing",".separator")),p.removeElementFromParent("#project-listing",`#project-content-${n}`),p.updateAttribute("#delete-project-button","id","delete-project-button-hidden"),p.updateAttribute("#task-header","textContent","")},o&&(p.removeAllElementsFromParent("#task-listing",".task-contents-format"),p.removeAllElementsFromParent("#task-listing",".task-contents-format-edit"),p.removeAllElementsFromParent("#task-listing",".separator"));const a=t.getTaskForProject(m[e].textContent);for(let t=0;t<a.length;t++)p.updateTaskListing(a[t].taskID,a[t].taskName,a[t].dueDate,a[t].priorityColour,a[t].priority),p.appendSeparator(a[t].taskID);A(),h()};b=document.querySelectorAll(".project-add-task-icon");for(let e=0;e<b.length;e++)b[e].onclick=function(n){let o=b[e].id;if(o=c(o,9),"-"===b[e].textContent)p.removeElementFromParent(`#project-content-${o}`,"#new-task-input"),p.updateAttribute(`#add-task-${o}`,"textContent","+");else if("+"===b[e].textContent){p.loadNewTaskForm(`#project-content-${o}`),p.updateAttribute(`#add-task-${o}`,"textContent","-");const e=document.querySelectorAll("input[name='task-name']"),n=document.querySelectorAll("input[name='due-date']"),r=document.querySelectorAll("select[name='priority']"),i=document.querySelectorAll("#new-task-button");for(let l=0;l<i.length;l++)i[l].onclick=function(i){""===e[l].value&&e[l].setAttribute("placeholder","Type something here..."),""===n[l].value&&n[l].setAttribute("placeholder","Input date here...");const c=document.querySelector(`#project-description-${o}`),u=document.querySelector("#task-header");if(c.textContent===u.textContent&&""!==e[l].value&&""!==n[l].value&&(p.updateTaskListing(t.taskID,e[l].value,n[l].value,d(r[l].value),r[l].value),p.appendSeparator(t.taskID)),""!==e[l].value&&""!==n[l].value){const t=new s(e[l].value,n[l].value,d(r[l].value),r[l].value);a(t,c.textContent),p.updateAttribute("input[name='task-name']","value",""),p.updateAttribute("input[name='task-name']","placeholder","e.g. Feed dog"),p.updateAttribute("input[name='due-date']","value",""),p.updateAttribute("input[name='due-date']","placeholder","YYYY/MM/DD")}A(),h()}}}}}else""===n.value&&p.updateAttribute("#new-project-input","placeholder","Type something here...")})}})();